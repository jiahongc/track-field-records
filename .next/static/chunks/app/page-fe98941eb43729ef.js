(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{8423:function(e,t,s){Promise.resolve().then(s.bind(s,2714))},2714:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return h}});var r=s(3827),a=s(4090);let l=async e=>{let t=await fetch("/api/records?event=".concat(e));if(!t.ok)throw Error("Failed to fetch records");return t.json()},n=async()=>{let e=await fetch("/api/records");if(!e.ok)throw Error("Failed to fetch events");return e.json()};var c=s(4166),i=s(4479),d=s(9422),o=s(6649);let x=(e,t)=>{let s=(0,c.o)(t,e),r=(0,i.d)(t,e)%12,a=(0,d.j)(t,e)%30,l=[];return s>0&&l.push("".concat(s," year").concat(s>1?"s":"")),r>0&&l.push("".concat(r," month").concat(r>1?"s":"")),a>0&&l.push("".concat(a," day").concat(a>1?"s":"")),l.join(", ")};var m=e=>{let{records:t}=e,s=[...t].sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime());return(0,r.jsxs)("div",{className:"relative w-full max-w-2xl mx-auto py-8",children:[(0,r.jsx)("div",{className:"absolute left-1/2 transform -translate-x-1/2 h-full w-0.5 bg-gray-200"}),s.map((e,t)=>{let a=new Date(e.date),l=s[t+1],n=l?x(new Date(l.date),a):null;return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"relative flex items-center mb-2",children:[(0,r.jsx)("div",{className:"absolute left-1/2 transform -translate-x-1/2 w-3 h-3 rounded-full bg-blue-500 border-2 border-white"}),(0,r.jsx)("div",{className:"w-5/12 ".concat(t%2==0?"ml-auto pl-6":"mr-auto pr-6 text-right"),children:(0,r.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:[(0,r.jsx)("div",{className:"font-bold text-lg mb-1",children:e.mark}),(0,r.jsx)("div",{className:"text-gray-700 text-sm mb-0.5",children:e.athlete}),(0,r.jsx)("div",{className:"text-gray-600 text-xs mb-0.5",children:e.nationality}),(0,r.jsx)("div",{className:"text-gray-500 text-xs mb-0.5",children:e.location}),(0,r.jsx)("div",{className:"text-gray-400 text-xs",children:(0,o.WU)(a,"MMMM d, yyyy")}),e.notes&&(0,r.jsx)("div",{className:"mt-1 text-xs text-blue-600 italic",children:e.notes})]})})]}),n&&(0,r.jsx)("div",{className:"relative flex justify-center mb-6",children:(0,r.jsx)("div",{className:"bg-gray-50 text-gray-500 text-xs px-3 py-1 rounded-full border border-gray-200",children:n})})]},e.id)})]})};function h(){let[e,t]=(0,a.useState)("100m"),[s,c]=(0,a.useState)("Men"),[i,d]=(0,a.useState)([]),[o,x]=(0,a.useState)([]),[h,u]=(0,a.useState)(!0),[f,g]=(0,a.useState)(null);return((0,a.useEffect)(()=>{(async()=>{try{let e=await n();x(e)}catch(e){console.error("Error loading events:",e),g("Failed to load events")}})()},[]),(0,a.useEffect)(()=>{(async()=>{u(!0),g(null);try{let t=(await l(e)).filter(e=>e.gender===s);d(t)}catch(e){console.error("Error loading records:",e),g("Failed to load records")}finally{u(!1)}})()},[e,s]),f)?(0,r.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,r.jsx)("div",{className:"text-red-500",children:f})}):(0,r.jsxs)("main",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)("div",{className:"sticky top-0 bg-white border-b border-gray-200 z-10",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"py-4",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold mb-4 text-center",children:"Track & Field World Records Progression"}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:[(0,r.jsx)("div",{className:"flex rounded-lg overflow-hidden border border-gray-200",children:["Men","Women"].map(e=>(0,r.jsx)("button",{onClick:()=>c(e),className:"px-4 py-2 text-sm font-medium ".concat(s===e?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"),children:e},e))}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:o.map(s=>(0,r.jsx)("button",{onClick:()=>t(s),className:"px-4 py-2 rounded-full text-sm font-medium transition-colors ".concat(e===s?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-200"),children:s},s))})]})]})})}),(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:h?(0,r.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,r.jsx)("div",{className:"text-gray-500",children:"Loading..."})}):0===i.length?(0,r.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,r.jsx)("div",{className:"text-gray-500",children:"No records found for this event"})}):(0,r.jsx)(m,{records:i})})]})}}},function(e){e.O(0,[926,971,69,744],function(){return e(e.s=8423)}),_N_E=e.O()}]);